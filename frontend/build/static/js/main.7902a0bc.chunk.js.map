{"version":3,"sources":["lib/auth.js","components/common/SecureRoute.js","lib/api.js","components/authentication/Register.js","components/authentication/Login.js","components/common/Navbar.js","components/common/Home.js","components/common/Footer.js","utils/useFetch.js","components/user/Profile.js","lib/userOptions.js","utils/useForm.js","components/user/ProfileForm.js","components/user/ProfileEdit.js","components/events/EventCardSimilar.js","components/common/Spinner.js","components/events/EventPoll.js","components/events/EventComment.js","utils/useFetchNew.js","lib/toasty.js","components/events/EventShow.js","lib/IndexSearchOptions.js","components/events/EventCard.js","components/events/EventIndex.js","components/events/EventForm.js","components/forms/ImageForm.js","components/forms/PollForm.js","components/events/EventNew.js","components/events/EventEdit.js","components/events/EventAttending.js","components/common/Error.js","components/user/Baskets.js","components/user/TicketIndex.js","components/user/TicketShow.js","App.js","index.js"],"names":["setToken","token","localStorage","setItem","getToken","getItem","logout","clear","getPayload","parts","split","length","JSON","parse","atob","isAuthenticated","isOwner","id","sub","SecureRoute","Component","component","rest","to","withHeaders","headers","Authorization","getAllEvents","axios","get","getSingleEvent","createEvent","data","post","editEvent","put","registerUser","loginUser","getOwnProfile","editProfile","getOwnBasket","updateBasket","userBasket","createBasket","createComment","getTicket","createImage","createPoll","getAllCategories","updatePoll","Register","state","formData","username","name","email","password","password_confirmation","errors","handleChange","event","target","value","setState","handleSubmit","a","preventDefault","res","props","history","push","console","log","response","handleError","this","className","onSubmit","type","onChange","React","Login","error","style","height","withRouter","useHistory","onClick","Home","ProgressBar","animated","variant","now","Footer","initialState","loading","useFetch","request","params","useState","useEffect","getData","ProfilePage","profile","profile_image","src","alt","width","first_name","last_name","age","gender","industry","ethnicity","users_basket","useForm","intialFormState","submitFn","submitParams","onSubmitSuccess","setFormData","formErrors","setFormErrors","checked","newValue","updatedFormData","updatedErrors","genderOptions","ageOptions","i","industryOptions","ethnicityOptions","ProfileForm","submitText","profile_images","label","placeholder","map","key","defaultValue","buttontext","ProfileEdit","EventCardSimilar","categories","talk_images","location","price","date_time","image","picture","Spinner","color","EventPoll","question","optionA","option_a","optionB","option_b","optionC","option_c","optionD","option_d","pollVote","optionACount","option_a_count","optionBCount","option_b_count","optionCCount","option_c_count","optionDCount","option_d_count","seeResult","setSeeResult","initialValue","total","makeNum","Math","round","storeResult","max","EventComment","text","user","useFetchNew","popupStyles","background","popupToasty","message","notify","show","EventShow","eventId","useParams","result","events","pending","setPending","handleClick","talk","oldState","newState","comments","isAttending","ticket","includes","number","polls","poll","handleDelete","delete","whichUser","commentWriter","addToBasket","basket","frameBorder","allow","allowFullScreen","host","replace","about","category","e","filter","item","index","parseFloat","categoryOptions","locationOptions","priceOptions","EventCard","EventIndex","filteredEvents","setFilteredEvents","locationFilter","setLocationFilter","priceFilter","setPriceFilter","categoryFilter","setCategoryFilter","searchInput","setSearchInput","showFilter","setShowFilter","filterLocations","search","regexp","RegExp","filtered","test","filterCategories","currentValue","parseInt","filterPrice","handleReset","visibility","emptyFilter","display","EventForm","disabled","ImageForm","setData","PollForm","EventNew","categoryPush","EventEdit","EventAttending","attendees","Error","Basket","basketId","newArr","obj","Button","fontWeight","reduce","accumulator","toFixed","TicketIndex","handleTicketSelect","tick","TicketShow","ticketId","App","exact","path","Profile","ErrorPage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7902a0bc.chunk.js","sourcesContent":["export const setToken = token => {\n  localStorage.setItem('token', token)\n}\n\nexport const getToken = () => {\n  return localStorage.getItem('token')\n}\n\nexport const logout = () => {\n  localStorage.clear()\n}\n\nexport const getPayload = () => {\n  const token = getToken()\n  if (!token) return false\n  const parts = token.split('.')\n  if (parts.length < 3) return false\n  return JSON.parse(atob(parts[1]))\n}\n\nexport const isAuthenticated = () => {\n  const token = getToken()\n  if (!token) return false\n  const parts = token.split('.')\n  if (parts.length < 3) return false\n  return JSON.parse(atob(parts[1]))\n}\n\nexport const isOwner = id => {\n  const subject = getPayload().sub\n  return id === subject\n}\n\nexport const isAttending = id => {\n  console.log(id)\n  const subject = getPayload().sub\n  return id === subject\n}\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { logout, isAuthenticated }  from '../../lib/auth'\n\nfunction SecureRoute({ component: Component, ...rest }) {\n  if (isAuthenticated()) return <Route {...rest} component={Component} />\n  logout()\n  return <Redirect to=\"/login\" />\n}\n\nexport default SecureRoute","import axios from 'axios'\nimport { getToken } from './auth'\n\n\nconst baseUrl = '/api'\n\nconst withHeaders = () => {\n  return { headers: { Authorization: `Bearer ${getToken()}` } }\n}\n\nexport const getAllEvents = () => {\n  return axios.get(`${baseUrl}/talks/`)\n}\n\nexport const getSingleEvent = id => {\n  return axios.get(`${baseUrl}/talks/${id}/`)\n}\n\nexport const createEvent = data => {\n  return axios.post(`${baseUrl}/talks/`, data, withHeaders())\n}\n\nexport const editEvent = (data, id) => {\n  return axios.put(`${baseUrl}/talks/${id}/`, data, withHeaders())\n}\n\nexport const deleteEvent = id => {\n  return axios.delete(`${baseUrl}/talks/${id}/`, withHeaders())\n}\n\nexport const registerUser = data => {\n  return axios.post(`${baseUrl}/register`, data)\n}\n\nexport const loginUser = data => {\n  return axios.post(`${baseUrl}/login`, data)\n}\n\nexport const getOwnProfile = () => {\n  return axios.get(`${baseUrl}/profile/`, withHeaders())\n}\n\nexport const editProfile = (data) => {\n  return axios.put(`${baseUrl}/profile/`, data, withHeaders())\n}\n\nexport const getOwnBasket = id => {\n  return axios.get(`${baseUrl}/basket/${id}/`, withHeaders())\n}\n\nexport const updateBasket = (data, id) => {\n  return axios.put(`${baseUrl}/basket/${id}/`, data, withHeaders())\n}\n\nexport const userBasket = () => {\n  return axios.get(`${baseUrl}/basket/query/`, withHeaders())\n}\n\nexport const createBasket = () => {\n  return axios.post(`${baseUrl}/basket/`, {}, withHeaders())\n}\n\nexport const getCategories = () => {\n  return axios.get(`${baseUrl}/categories/`)\n}\n\nexport const createComment = data => {\n  return axios.post(`${baseUrl}/comments/`, data, withHeaders())\n}\n\nexport const createTicket = data => {\n  return axios.post(`${baseUrl}/tickets/`, data, withHeaders())\n}\n\nexport const getTicket = id => {\n  return axios.get(`${baseUrl}/tickets/${id}/`, withHeaders())\n}\n\nexport const createImage = data => {\n  return axios.post(`${baseUrl}/images/talk/`, data, withHeaders())\n}\n\nexport const createPoll = data => {\n  return axios.post(`${baseUrl}/polls/`, data)\n}\n\nexport const answerPoll = data => {\n  return axios.post(`${baseUrl}/votes/`, data, withHeaders())\n}\n\nexport const getAllCategories = () => {\n  return axios.get(`${baseUrl}/categories/`)\n}\n\nexport const updatePoll = (data, id) => {\n  return axios.put(`${baseUrl}/polls/${id}/`, data, withHeaders())\n}\n\n// export const answerPoll = data => {\n//   return axios.post(`${baseUrl}/votes/`, data, withHeaders())\n// }\n// }\n\n// export const updatePoll = (data, id) => {\n//   return axios.put(`${baseUrl}/polls/${id}/`, data, withHeaders())\n// }\n","import React from 'react'\nimport { registerUser, loginUser, createBasket } from '../../lib/api'\nimport { setToken } from '../../lib/auth'\n\n\nclass Register extends React.Component {\n  state = {\n    formData: {\n      username: '',\n      name: '',\n      email: '',\n      password: '',\n      password_confirmation: ''\n    },\n    errors: {}\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    const errors = { ...this.state.errors, [event.target.name]: '' }\n    this.setState({ formData, errors })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      await registerUser(this.state.formData)\n      const res = await loginUser(this.state.formData)\n      setToken(res.data.token)\n      await createBasket()\n      this.props.history.push('/events')\n\n    } catch (err) {\n      console.log(err.response)\n      this.setState({ errors: err.response.data })\n      console.log(this.state.errors)\n    }\n  }\n\n  handleError = () => {\n    if (this.state.errors === 'Path is required') return 'required field'\n  }\n\n\n  render() {\n    const { formData, errors } = this.state\n    return (\n      <div className=\"small-body\">\n        <div className=\"section\">\n          <div className=\"container\">\n            <div className=\"register\">\n              <div className=\"title\">Register</div>\n              <form onSubmit={this.handleSubmit}>\n                <div className=\"form\">\n                  <div className=\"form-item\">\n                    <label> Username </label>\n                    <input type=\"text\"\n                      name=\"username\"\n                      onChange={this.handleChange}\n\n                    />\n                  </div>\n                  <div className=\"error-msg\">\n                    {errors.username && <small>{errors.username}</small>}\n                  </div>\n\n\n                  <div className=\"form-item\">\n                    <label> Email: </label>\n                    <input type=\"email\"\n                      name=\"email\"\n                      onChange={this.handleChange}\n                      value={formData.email}\n                      className={errors.email ? 'error' : ''}\n                    />\n                  </div>\n                  <div className=\"error-msg\">\n                    {errors.email && <small>{errors.email}</small>}\n                  </div>\n\n                  <div className=\"form-item\">\n                    <label> Password: </label>\n                    <input type=\"password\"\n                      name=\"password\"\n                      onChange={this.handleChange}\n                      value={formData.password}\n                      className={errors.password ? 'error' : ''}\n                    />\n                  </div>\n                  <div className=\"error-msg\">\n                    {errors.password && <small>{errors.password}</small>}\n                  </div>\n\n\n                  <div className=\"form-item\">\n                    <label> Confirm Password: </label>\n                    <input type=\"password\"\n                      name=\"password_confirmation\"\n                      onChange={this.handleChange}\n                      value={formData.password_confirmation}\n                      className={errors.password_confirmation ? 'error' : ''}\n                    />\n                  </div>\n                  <div className=\"error-msg\">\n                    {errors.password_confirmation && <small>{errors.password_confirmation}</small>}\n\n                  </div>\n\n                  <button type='submit' className=\"submit-btn\">Register</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    )\n  }\n}\n\nexport default Register","import React from 'react'\nimport { loginUser } from '../../lib/api'\nimport { setToken } from '../../lib/auth'\n\nclass Login extends React.Component {\n  state = {\n    formData: {\n      email: '',\n      password: ''\n    },\n    error: ''\n  }\n\n  handleChange = event => {\n    const formData = { ...this.state.formData, [event.target.name]: event.target.value }\n    this.setState({ formData, error: '' })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      const res = await loginUser(this.state.formData)\n      setToken(res.data.token)\n      this.props.history.push('/events')\n    } catch (err) {\n      this.setState({ error: 'Invalid Credentials' })\n      console.log('the error state', this.state.error)\n    }\n  }\n\n  render() {\n    const { formData, error } = this.state\n    return (\n      <div className=\"small-body\">\n        <div className=\"container\">\n          <div className=\"login\">\n            <form onSubmit={this.handleSubmit}>\n\n              <div className=\"form\" style={{ height: '300px' }}>\n                <div className=\"error-msg\">\n                  {error && <small>{error}</small>}\n                </div>\n                <div className=\"title\">Log In</div>\n\n                <div className=\"form-item\">\n                  <label> Email </label>\n                  <input type=\"email\"\n                    name=\"email\"\n                    onChange={this.handleChange}\n                    value={formData.email}\n                    className={error ? 'error' : ''}\n                  />\n                </div>\n                <div className=\"form-item\">\n                  <label> Password </label>\n                  <input type=\"password\"\n                    name=\"password\"\n                    onChange={this.handleChange}\n                    value={formData.password}\n                    className={error ? 'error' : ''}\n                  />\n                </div>\n\n                <button type='submit' className=\"submit-btn\">Login</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Login","import React from 'react'\nimport { Link, withRouter, useHistory } from 'react-router-dom'\nimport { isAuthenticated, logout } from '../../lib/auth'\n\nconst Navbar = () => {\n  const history = useHistory()\n\n  const handleLogout = () => {\n    logout()\n    history.push('/')\n  }\n\n\n  return (\n\n\n    <div className=\"navbar\">\n     \n      {/* <div className=\"navbar-content\"> */}\n      <div className=\"navbar-left\">\n        <Link to='/events' className=\"link\">Events</Link>\n        {isAuthenticated() && <Link to='/events/new' className=\"link\">New Event</Link>}\n        {/* {isAuthenticated() && <Link to='/events/attending' className=\"link\">Attending</Link>} */}\n      </div>\n      <Link to='/' className=\"title\">EVENTR</Link>\n      <div className=\"navbar-right\">\n        {!isAuthenticated() && <Link to='/login' className=\"link\">Login</Link>}\n        {!isAuthenticated() && <Link to='/register' className=\"link\">Register</Link>}\n        {isAuthenticated() && <Link to='/profile' className=\"link\">Profile</Link>}\n        {isAuthenticated() && <span onClick={handleLogout} className=\"link\">Logout</span>}\n      </div>\n      {/* </div> */}\n      <div className=\"navbar-line\"></div>\n    </div>\n\n  )\n}\n\n\n\nexport default withRouter(Navbar)","import React from 'react'\nimport ProgressBar from 'react-bootstrap/ProgressBar'\nimport '../../styles/main.scss'\n\nconst Home = () => {\n  return (\n\n    <div className=\"small-body\">\n    <div className=\"home-div\">EVENTR - Talks that Talk back.\n\n        <ProgressBar animated variant=\"info\"  now={90} />\n        <ProgressBar animated now={20} />\n        <ProgressBar animated variant=\"warning\" now={60} />\n        <ProgressBar animated variant=\"danger\" now={80} /> \n        <br></br>\n       <em>Powered by Pollapalooza</em>\n        </div>\n    </div>\n\n  )\n}\n\n\n\nexport default Home","import React from 'react'\n\n\nconst Footer = () => {\n  return (\n    <div className=\"footer\">\n      <div className=\"footer-content\">Talks that talk back</div>\n    </div>\n\n  )\n}\n\n\n\nexport default Footer","import React from 'react'\n\nconst initialState = {\n  data: null,\n  error: null,\n  loading: true\n}\n\nfunction useFetch(request, params = null) {\n  const [state, setState] = React.useState(initialState)\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await request(params)\n        setState({ data, loading: false, error: null })\n      } catch (err) {\n        setState({ error: true, loading: false, data: null })\n      }\n    }\n    getData()\n  }, [request, params])\n\n  return (state)\n}\n\nexport default useFetch\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { getOwnProfile } from '../../lib/api'\nimport useFetch from '../../utils/useFetch'\n\nfunction ProfilePage() {\n  const history = useHistory()\n  const { data: profile } = useFetch(getOwnProfile)\n\n  const toBasket = () => {\n    history.push(`/basket/${profile.users_basket[0].id}`)\n  }\n\n  const handleEditButton = () => {\n    history.push('/profile/edit/')\n  }\n\n  const handleTicketButton = () => {\n    history.push('/tickets')\n  }\n\n\n  const picture = () => {\n    if (profile.profile_image === '') {\n      return <img src='https://www.twago.com/img/2018/default/no-user.png' alt={profile.username} loading=\"lazy\" width=\"150\" height=\"150\" />\n    } else {\n      return < img src={profile.profile_image} alt={profile.username} loading=\"lazy\" width=\"150\" height=\"150\" />\n    }\n  }\n\n  if (!profile) return null\n  return (\n    <div className=\"body\">\n      <div className=\"prof-stats\">\n\n        <div id=\"prof-pic-box\">\n          {/* <img id=\"prof-pic\" src={profile.profile_image} alt={profile.name} loading=\"lazy\" /> */}\n          {picture()}\n        </div>\n        <p id=\"prof-username\">{profile.username}</p>\n        <p>{profile.first_name} {profile.last_name}</p>\n        <p id=\"prof-email\" >{profile.email}</p>\n        <p id=\"stats\">Stats</p>\n        <p id=\"prof-age\">{profile.age}</p>\n        <p id=\"prof-gender\">{profile.gender}</p>\n        <p id=\"prof-industry\">{profile.industry}</p>\n        <p id=\"prof-ethnicity\">{profile.ethnicity}</p>\n\n\n\n        <button className=\"edit-prof-button\" onClick={handleEditButton}>Edit my profile</button>\n\n<div className=\"profile-buttons\">\n  <button className=\"my-tickets-button\" onClick={handleTicketButton}>My Tickets</button>\n  <button className=\"user-basket-button\" onClick={toBasket}>My Basket</button>\n</div>\n      </div>\n\n\n      \n      </div>\n      \n\n      \n    // </div>\n\n  )\n}\n\n\n\nexport default ProfilePage","import React from 'react'\n\nexport const genderOptions = [\n{value: 'Female'},\n{value: 'Male'},\n{value: 'Other'}\n]\n\nexport const ageOptions = []\nfor (let i = 18; i < 71; i++) {\n  ageOptions.push({value: i})\n}\n\n\nexport const industryOptions = [\n  {value: 'Retail'},\n  {value: 'Finance'},\n  {value: 'Health Services'},\n  {value: 'Accounting and Legal'},\n  {value: 'Construction'},\n  {value: 'hospitality'},\n  {value: 'Information Technology'},\n  {value: 'Science and Engineering'},\n  {value: 'Arts'},\n  {value: 'Agriculture'},\n  {value: 'Student'}\n]\n\nexport const ethnicityOptions = [\n  {value: 'Asian or Asian British'},\n  {value : 'Black, African, Black British or Caribbean'},\n  {value: 'Mixed or Multiple Ethnic Groups'},\n  {value: 'White British'},\n  {value: 'Another Ethnic Group'}\n]","import React from 'react'\n\nfunction useForm(intialFormState = {}, submitFn, submitParams = null, onSubmitSuccess = () => { }) {\n\n  const [formData, setFormData] = React.useState(intialFormState)\n  const [formErrors, setFormErrors] = React.useState({})\n\n  const handleChange = ({ target: { name, value, type, checked } }) => {\n    const newValue = type === 'checkbox' ? checked : value\n    const updatedFormData = { ...formData, [name]: newValue }\n    const updatedErrors = { ...formErrors, [name]: '' }\n    setFormData(updatedFormData)\n    setFormErrors(updatedErrors)\n  }\n  console.log(formErrors)\n  const handleSubmit = async event => {\n    event.preventDefault()\n\n    try {\n      const response = await submitFn(formData, submitParams)\n      console.log('initial res', response)\n      onSubmitSuccess(response)\n    } catch (err) {\n      console.log(err.response)\n      setFormErrors(err.response.data)\n    }\n  }\n\n  return { formData, handleChange, setFormData, formErrors, setFormErrors, handleSubmit }\n}\n\nexport default useForm","import React from 'react'\nimport { genderOptions, ageOptions, industryOptions, ethnicityOptions } from '../../lib/userOptions'\n\n\nfunction ProfileForm({ data, handleChange, handleSubmit, errors, submitText }) {\n  // const [colorInt, setColorInt] = useState('purple')\n  // const [userInterests, setUserInterests] = useState([])\n\n  // if (!categories) return null\n  // const interestNames = interests ? interests.map(interest => { return interest.name}) : \"\"\n  // setUserInterests(interestNames)\n  // const categoryNames = categories.map(category => { return category.name})\n\n\n  // const addToInterests = (e) => {\n  //   const name = e.target.id\n  //   const index = interestNames.indexOf(name)\n\n  //   if (interestNames.includes(name)) {\n  //     interestNames.splice(index, 1)\n  //     console.log('taking out')\n  //     console.log(interestNames)\n  //     // setInterestNames(interestNames)\n\n  //   } else {\n  //     interestNames.push(name)\n  //     console.log('adding')\n  //     console.log(interestNames)\n  //     // setInterestNames(interestNames)\n  //   }\n  // }\n\n\n  if (!data.profile_images) return null\n  // console.log(data)\n  return (\n    <div className=\"prof-form\">\n      <h1>Edit your Profile</h1><hr></hr>\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-item\">\n          Profile Image<br></br>\n          <input\n            name=\"profile_image\"\n            label=\"Profile Images\"\n            placeholder=\"Profile Pic Url\"\n            onChange={handleChange}\n            // value={data.profile_images[0].image}\n            value={data.profile_image}\n            error={errors.profile_image}\n          />\n        </div><hr></hr>\n\n        <div className=\"form-item\">\n          Username<br></br>\n          <input\n            name=\"username\"\n            label=\"Username\"\n            placeholder=\"Username\"\n            onChange={handleChange}\n            value={data.username}\n            error={errors.username}\n          />\n        </div><hr></hr>\n\n        <div className=\"form-item\">\n          First Name<br></br>\n          <input\n            name=\"first_name\"\n            label=\"firstName\"\n            placeholder=\"First Name\"\n            onChange={handleChange}\n            value={data.first_name}\n            error={errors.first_name}\n          />\n        </div><hr></hr>\n\n        <div className=\"form-item\">\n          Last Name<br></br>\n          <input\n            name=\"last_name\"\n            label=\"LastName\"\n            placeholder=\"Last Name\"\n            onChange={handleChange}\n            value={data.last_name}\n            error={errors.last_name}\n          />\n        </div><hr></hr>\n\n        <div className=\"form-item\">\n          Email<br></br>\n          <input\n            name=\"email\"\n            label=\"Email\"\n            placeholder=\"Email\"\n            onChange={handleChange}\n            value={data.email}\n            error={errors.email}\n          />\n        </div><hr></hr>\n\n        <div className=\"form-item\">\n          Age<br></br>\n          <select\n            name=\"age\"\n            label=\"Age\"\n            placeholder=\"Age\"\n            onChange={handleChange}\n            value={data.age}\n            error={errors.age}>\n            {ageOptions.map(age => {\n              return <option key={age.value} value={age.value}>{age.value}</option>\n            })}\n          </select>\n        </div><hr></hr>\n\n        <div className=\"form-item\">\n          Gender<br></br>\n          <select\n            name=\"gender\"\n            label=\"Gender\"\n            placeholder=\"Gender\"\n            onChange={handleChange}\n            value={data.gender}\n            error={errors.gender}\n            defaultValue=\"default-gender\"\n          >\n            {genderOptions.map(gender => {\n              return <option key={gender.value} value={gender.value}>{gender.value}</option>\n            })}\n          </select>\n        </div><hr></hr>\n\n        <div className=\"form-item\">\n          Industry Profession<br></br>\n          <select\n            name=\"industry\"\n            label=\"industry\"\n            placeholder=\"Industry\"\n            onChange={handleChange}\n            value={data.industry}\n            error={errors.industry}\n            defaultValue=\"default-industry\"\n          >\n            {industryOptions.map(industry => {\n              return <option key={industry.value} value={industry.value}>{industry.value}</option>\n            })}\n          </select>\n        </div><hr></hr>\n\n        <div className=\"form-item\">\n          Ethnicity<br></br>\n          <select\n            name=\"ethnicity\"\n            label=\"ethnicity\"\n            placeholder=\"Ethnicity\"\n            onChange={handleChange}\n            value={data.ethnicity}\n            error={errors.ethnicity}\n            defaultValue=\"default-ethnicity\"\n          >\n            {ethnicityOptions.map(ethnicity => {\n              return <option key={ethnicity.value} value={ethnicity.value}>{ethnicity.value}</option>\n            })}\n          </select> <hr></hr>\n        </div>\n        <button className=\"finish-edit-button\" onClick={handleSubmit} buttontext={submitText}>{submitText}</button>\n      </form>\n    </div>\n  )\n}\n\nexport default ProfileForm","import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { useHistory } from 'react-router-dom'\nimport { getOwnProfile, editProfile } from '../../lib/api'\nimport useForm from '../../utils/useForm'\nimport useFetch from '../../utils/useFetch'\nimport ProfileForm from './ProfileForm'\n\nfunction ProfileEdit() {\n  const { data: profile, error } = useFetch(getOwnProfile)\n  const history = useHistory()\n  const onSubmitSuccess = () => {\n    history.push('/profile')\n  }\n\n  const { formData, handleChange, setFormData, formErrors, handleSubmit } = useForm({\n    name: ''\n  }, editProfile, profile, onSubmitSuccess) \n\n  React.useEffect(() => {\n    if (profile) {\n      setFormData(profile)\n    }\n  }, [profile, setFormData])\n\n  if (error) {\n    return <Redirect to=\"notfound\" />\n  }\n\n\n  return (\n    <div className=\"body\">\n      <div className=\"edit-prof-form\">\n        <ProfileForm\n          data={formData}\n          errors={formErrors}\n          handleChange={handleChange}\n          handleSubmit={handleSubmit}\n          submitText=\"Finish Editing Profile\"\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default ProfileEdit\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction EventCardSimilar({ categories, name, id, talk_images, location, date_time , price }) {\n\n  const picture = () => {\n    if (talk_images.length === 0) {\n      return <img src='https://avatars.slack-edge.com/2020-05-09/1112549471909_7543dde099089941d3c3_512.png' alt={name} loading=\"lazy\" width=\"200\"  className=\"image\"/>\n    } else {\n      return < img src={talk_images[0]?.image} alt={name} loading=\"lazy\" width=\"200\" className=\"image\" />\n    }\n  }\n\n  return (\n    <Link className=\"link\" to={`/events/${id}`}>\n      <div className=\"similar-event-card\">\n        <div className=\"crop\">\n          {picture()}\n        </div>\n        <div className=\"title\">\n\n          <div className=\"name\">{name}</div>\n          <div className=\"price\">{price > 0 ? `£${price}` : 'Free'}</div>\n\n          <div className=\"location\">{location}</div>\n          {/* <div className=\"date-time\">{date_time.replace('T', ' at ').replace(':00Z', '')}</div> */}\n          {/* <div className=\"tags\">\n            <strong>Tags:</strong><br></br>\n            {categories.map(category => (\n              <div key={category.id} className=\"tag\">{category.name}</div>\n            ))}\n          </div> */}\n\n\n        </div>\n      </div>\n    </Link>\n  )\n}\n\nexport default EventCardSimilar","import React from 'react'\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css'\nimport Loader from 'react-loader-spinner'\n\nfunction Spinner() {\n  return (\n    <div className=\"loading\">\n      <Loader type=\"TailSpin\" color=\"#ffd539\" height=\"100\" width=\"100\" />\n    </div>\n  )\n}\n\nexport default Spinner","import React, { useEffect } from 'react'\n// bars\nimport ProgressBar from 'react-bootstrap/ProgressBar'\nimport '../../styles/main.scss'\n\n\nfunction EventPoll({ id, question, option_a: optionA, option_b: optionB, option_c: optionC, option_d: optionD, style, pollVote, option_a_count: optionACount, option_b_count: optionBCount, option_c_count: optionCCount, option_d_count: optionDCount }) {\n\n\n\n  const [seeResult, setSeeResult] = React.useState('')\n\n  useEffect(() => {\n    const initialValue = localStorage.getItem(id)\n    setSeeResult(initialValue)\n  })\n\n\n  const total = optionACount + optionBCount + optionCCount + optionDCount\n\n  const makeNum = value => {\n    if (value === 0) return 0\n    return Math.round((value / total) * 100)\n  }\n\n  const storeResult = () => {\n    localStorage.setItem(id, true)\n    setSeeResult(true)\n  }\n\n  return (\n    <div className=\"poll\" style={style}>\n      <div className=\"question\">\n        <hr />\n        <h5>{question}</h5>\n        {/* <hr /> */}\n      </div>\n      < div className=\"answers\">\n        {!seeResult &&\n\n\n          <div className=\"option-container\">\n            <button onClick={() => pollVote(id, 'a', optionACount, storeResult())} id={id} value=\"a\" max='30'>{optionA}</button>\n            <button onClick={() => pollVote(id, 'b', optionBCount, storeResult())} id={id} value=\"b\" max='30'>{optionB}</button>\n            <button onClick={() => pollVote(id, 'c', optionCCount, storeResult())} id={id} value=\"c\" max='30'>{optionC}</button>\n            <button onClick={() => pollVote(id, 'd', optionDCount, storeResult())} id={id} value=\"d\" max='30'>{optionD}</button>\n          </div>}\n\n\n        {seeResult &&\n\n          <>\n            <div>{optionA}: {makeNum(optionACount)}%</div>\n            <ProgressBar animated variant=\"info\" now={(optionACount / total) * 100} />\n\n            <div>{optionB}: {makeNum(optionBCount)}%</div>\n            <ProgressBar animated now={(optionBCount / total) * 100} />\n\n            <div>{optionC}: {makeNum(optionCCount)}%</div>\n            <ProgressBar animated variant=\"warning\" now={(optionCCount / total) * 100} />\n\n            <div>{optionD}: {makeNum(optionDCount)}%</div>\n            <ProgressBar animated variant=\"danger\" now={(optionDCount / total) * 100} />\n          </>\n        }\n\n      </div>\n    </div>\n\n  )\n}\n\nexport default EventPoll","import React from 'react'\n\n\nfunction EventComment({ text, user }) {\n\n\n\n\n  return (\n\n    <div className=\"comment\">\n      <div className=\"comment-title\">{user.username}:</div>\n      <div className=\"comment-text\"> {text}</div>\n      <hr />\n    </div>\n\n  )\n}\n\nexport default EventComment","import React from 'react'\n\nconst initialState = {\n  data: null,\n  error: null,\n  loading: true\n}\n\nfunction useFetchNew(request, params = null) {\n  const [state, setState] = React.useState(initialState)\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await request(params)\n        setState({ data, loading: false, error: null })\n      } catch (err) {\n        setState({ error: true, loading: false, data: null })\n      }\n    }\n    getData()\n  }, [request, params])\n\n  return { state: state, setState: setState }\n}\n\nexport default useFetchNew\n","import { notify } from 'react-notify-toast'\n\nconst popupStyles = { background: '#98FB98', text: '#000' }\n\nexport const popupToasty = message => {\n  notify.show(message, 'custom', 3000, popupStyles)\n}","import React from 'react'\nimport { Link, Redirect, useHistory, useParams } from 'react-router-dom'\nimport { getSingleEvent, getAllEvents, deleteEvent, userBasket, updateBasket, updatePoll, createComment } from '../../lib/api'\nimport useFetch from '../../utils/useFetch'\nimport EventCardSimilar from './EventCardSimilar'\nimport Spinner from '../common/Spinner'\nimport { isOwner, getPayload } from '../../lib/auth'\nimport EventPoll from './EventPoll'\nimport EventComment from './EventComment'\n\nimport useFetchNew from '../../utils/useFetchNew'\nimport { isAuthenticated } from '../../lib/auth'\n// import { isAttending } from '../../lib/auth'\nimport { popupToasty } from '../../lib/toasty'\nimport Notifications from 'react-notify-toast'\n\n\nfunction EventShow() {\n  const { id: eventId } = useParams()\n  const result = useFetchNew(getSingleEvent, eventId)\n  const { data: event, loading, error } = result.state\n  const setState = result.setState\n  const history = useHistory()\n\n  const { data: events } = useFetch(getAllEvents)\n  const [pending, setPending] = React.useState('')\n  const handleChange = e => {\n    const text = e.target.value\n    setPending(text)\n  }\n\n  const handleClick = async () => {\n\n    try {\n      const res = await createComment({ text: pending, talk: eventId })\n      res.data.user = { username: 'Your most recent comment' }\n      console.log('res', res)\n      setState((oldState) => {\n        const newState = { ...oldState }\n        newState.data.comments.push(res.data)\n        console.log(newState)\n        return newState\n      })\n      setPending('')\n\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n\n  if (error) {\n    return <Redirect to=\"/notfound\" />\n  }\n\n  if (!event) return null\n\n  // console.log(isAuthenticated().sub)\n\n\n\n  if (!event) return null\n\n  const isAttending = () => {\n    const attendees = event.ticket.map(ticket => {\n      // console.log(ticket.user)\n      return ticket.user\n    })\n    if (attendees.includes(isAuthenticated().sub)) {\n      return (true)\n    }\n\n    // console.log(attendees)\n\n  }\n\n\n  const pollVote = async (id, value, number) => {\n    const newValue = number + 1\n    let res\n    if (value === 'a') {\n      res = await updatePoll({ option_a_count: newValue }, id)\n    } else if (value === 'b') {\n      res = await updatePoll({ option_b_count: newValue }, id)\n    } else if (value === 'c') {\n      res = await updatePoll({ option_c_count: newValue }, id)\n    } else {\n      res = await updatePoll({ option_d_count: newValue }, id)\n    }\n\n    setState((oldState) => {\n      const newState = { ...oldState }\n      newState.data.polls = oldState.data.polls.map((poll) => {\n        if (poll.id === res.data.id) {\n          return res.data\n        } else {\n          return poll\n        }\n      })\n\n      return newState\n    })\n  }\n  const handleDelete = async () => {\n    try {\n      await deleteEvent(eventId)\n      history.push('/events')\n    } catch (err) {\n      history.push('/notfound')\n    }\n  }\n\n\n\n  if (error) {\n    return <Redirect to=\"/notfound\" />\n  }\n\n\n\n  const filterOrigin = () => {\n    if (!events) return null\n    const filtered = events.filter((item, index) => (\n      item.id !== parseFloat(eventId) && index < 3\n    ))\n    return filtered\n  }\n\n\n\n\n  const picture = () => {\n    if (event.talk_images.length === 0) {\n      return <img src='https://avatars.slack-edge.com/2020-05-09/1112549471909_7543dde099089941d3c3_512.png' alt={event.name} loading=\"lazy\" className=\"image\" />\n    } else if (event.talk_images.length === 2){\n      // console.log(event.talk_images[1].image)\n      return <iframe width=\"650\" height=\"400\" src={event.talk_images[1].image} frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n      \n      // < img src={event.talk_images[1].image} alt={event.name} loading=\"lazy\" className=\"image\" />\n    } else {\n      return < img src={event.talk_images[0]?.image} alt={event.name} loading=\"lazy\" className=\"image\" />\n      // return < img src={event?.talk_images[event?.talk_images.length - 1]?.image} alt={event.name} loading=\"lazy\" className=\"image\" />\n      // return <iframe width=\"400\" src={event?.talk_images[event?.talk_images.length - 1]?.image} alt={event.name} frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n    }\n  }\n\n  const whichUser = async () => {\n    const res = await userBasket()\n    const commentWriter = res.data.user\n    if (event.comments.user.id === commentWriter) {\n      return <p>You:</p>\n    } else {\n      return <p>{event.comments.user.username}</p>\n    }\n  }\n\n\n  const addToBasket = async () => {\n    if (!isAuthenticated()) popupToasty('Please log in or register an account first')\n    const res = await userBasket()\n    const basket = res.data\n    console.log(basket)\n\n    popupToasty('Added to Basket!')\n    await updateBasket({ 'talk': [...basket.talk, eventId] }, basket.id)\n  }\n\n\n\n  return (\n    <div className=\"body\">\n      <div className=\"container\">\n        <Notifications />\n        {loading ?\n          <Spinner />\n          :\n          <>\n            <div className=\"title-container\">\n              <div className=\"title-image\">\n                {picture()}\n              </div>\n              <div className=\"title-wording\">\n                <div className=\"title\">{event.name}</div>\n                <div className=\"host\">Hosted by: {event.host.username}</div>\n                <div className=\"location\">Location: {event.location}</div>\n                <div className=\"price\">Price: £{event.price}</div>\n                <div className=\"date-time\">{event.date_time.replace('T', ' at ').replace(':00Z', '')}</div>\n                {isOwner(event.host.id) ?\n                  <div className=\"owner-buttons\">\n                    <Link to={`/events/${eventId}/edit`} className=\"link\"><button>Edit</button></Link>\n                    <button onClick={handleDelete}>Delete event</button>\n                  </div>\n                  : null}\n              </div>\n            </div>\n            <div className=\"interest-buttons\">\n              {/* <button onClick={addToWishlist} value=\"Wishlist\" >Add to wish list</button> */}\n              {!isAttending() && <button onClick={addToBasket} value=\"Basket\">Add to basket</button>}\n            </div>\n            <div className=\"description\">\n              <div className=\"title-wording\">\n                <strong>About this event:</strong><br></br>\n                {event.about}\n              </div>\n            </div>\n            <div className=\"tags\">\n              <div className=\"title\">\n                <strong >Tags:</strong><br></br>\n              </div>\n              <div className=\"tags-container\">\n                {event.categories.map(category => (\n                  <div key={category.id} className=\"tag\">{category.name}</div>\n                ))}\n              </div>\n            </div>\n\n            {isOwner(event.host.id) || isAttending() ?\n              <div className=\"paricipation-container\">\n                <div className=\"poll-container\">\n                  <div className=\"title\">\n                    <strong >Polls:</strong><br></br>\n                  </div>\n                  {event.polls ?\n                    event.polls.map(poll => (\n                      <EventPoll\n                        pollVote={pollVote}\n                        // style={poll.id === 2 ? { visibility: 'hidden' } : { visibility: 'display' }}\n                        id={poll.id}\n                        key={poll.id}\n\n                        {...poll} />\n                    ))\n                    : ''}\n                </div>\n                <div>\n                  <div className=\"comments\">\n                    <div className=\"comments-title\">\n                      <strong >Comments:</strong><br></br>\n                    </div>\n\n                    {event.comments ?\n                      event.comments.map(poll => (\n                        <EventComment\n                          // style={poll.id === 2 ? { visibility: 'hidden' } : { visibility: 'display' }}\n                          whichUser={whichUser}\n\n                          key={poll.id}\n                          {...poll} />\n\n                      ))\n                      : ''}\n                  </div>\n                  <div className=\"create-comment\">\n                    <textarea\n                      onChange={handleChange}\n                      value={pending}\n                      placeholder='Write a comment...'\n                      className=\"text-input\"\n                      name=\"text\"\n                    ></textarea>\n                    <button onClick={handleClick}>Submit</button>\n                  </div>\n                </div>\n              </div>\n              :\n              <div className=\"similar-events\">\n                <strong>Other events you may like:</strong>\n                <div className=\"similar-events-cards\">\n                  {filterOrigin()?.map(event =>\n                    <EventCardSimilar key={event.id} className=\"event-card\" {...event} />\n                  )}\n                </div>\n              </div>\n            }\n\n\n\n\n\n          </>\n        }\n      </div>\n    </div >\n\n  )\n}\n\nexport default EventShow\n","export const categoryOptions = [\n  { label: 'Arts', id: 8 },\n  { label: 'Education', id: 9 },\n  { label: 'Engineering', id: 10 },\n  { label: 'Business', id: 11 },\n  { label: 'Entertainment', id: 12 },\n  { label: 'Science', id: 13 },\n  { label: 'Marketing', id: 14 },\n  { label: 'Properties', id: 15 },\n  { label: 'Human Studies', id: 16 },\n  { label: 'Technology', id: 17 }\n]\n\nexport const locationOptions = [\n  { label: 'Central London' },\n  { label: 'Greater London' },\n  { label: 'South East London' },\n  { label: 'South West London' },\n  { label: 'West London' },\n  { label: 'North London' },\n  { label: 'East London' },\n  { label: 'At Home(Webinar)' }\n]\n\nexport const priceOptions = [\n  { label: 'Under £10', value: 10 },\n  { label: 'Under £20', value: 20 },\n  { label: 'Under £30', value: 30 }\n]","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction EventCard({ categories, name, id, talk_images, location, date_time , price }) {\n\n  const picture = () => {\n    if (talk_images.length === 0) {\n      return <img src='https://avatars.slack-edge.com/2020-05-09/1112549471909_7543dde099089941d3c3_512.png' alt={name} loading=\"lazy\" width=\"200\"  className=\"image\"/>\n    } else {\n      return < img src={talk_images[0]?.image} alt={name} loading=\"lazy\" width=\"200\" className=\"image\" />\n    }\n  }\n\n  return (\n    <Link className=\"link\" to={`/events/${id}`}>\n      <div className=\"event-card\">\n        <div className=\"card-left\">\n          <div className=\"crop\">\n            {picture()}\n          </div>\n\n        </div>\n        <div className=\"card-right\">\n          <div className=\"title\">\n            <div className=\"name\">{name}</div>\n            <div className=\"price\">{price > 0 ? `£${price}` : 'Free'}</div>\n          </div>\n          <div className=\"location\">{location}</div>\n          <div className=\"date-time\">{date_time.replace('T', ' at ').replace(':00Z', '')}</div>\n          <div className=\"tags\">\n            <strong>Tags:</strong><br></br>\n            {categories.map(category => (\n              <div key={category.id} className=\"tag\">{category.name}</div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </Link>\n  )\n}\n\nexport default EventCard","import React from 'react'\nimport { getAllEvents } from '../../lib/api'\nimport useFetch from '../../utils/useFetch'\nimport { Redirect } from 'react-router-dom'\nimport Spinner from '../common/Spinner'\nimport { locationOptions, categoryOptions, priceOptions } from '../../lib/IndexSearchOptions'\nimport EventCard from './EventCard'\nfunction EventIndex() {\n  const { data: events, loading, error } = useFetch(getAllEvents)\n  const [filteredEvents, setFilteredEvents] = React.useState()\n  const [locationFilter, setLocationFilter] = React.useState()\n  const [priceFilter, setPriceFilter] = React.useState()\n  const [categoryFilter, setCategoryFilter] = React.useState()\n  const [searchInput, setSearchInput] = React.useState()\n  const [showFilter, setShowFilter] = React.useState('')\n\n  const emptyFilter = () => {\n    if (filteredEvents && filteredEvents.length === 0) return true\n  }\n\n  const filterLocations = (event) => {\n    if (locationFilter) {\n      return null\n    } else { \n      const search = event.target.value\n      const regexp = new RegExp(search, 'i')\n      const startingEvents = filteredEvents ? filteredEvents : events\n      const filtered = startingEvents.filter((event) => {\n        if (regexp.test(event.location)) return true\n      }\n      )\n      setLocationFilter(search)\n      setFilteredEvents(filtered)\n    }\n  }\n  const filterCategories = (event) => {\n    if (categoryFilter) {\n      return null\n    } else { \n      const search = event.target.value\n      const startingEvents = filteredEvents ? filteredEvents : events\n      const filtered = startingEvents.filter((event) => {\n        const eventCategories = event.categories.map((currentValue) => {\n          return currentValue.id\n        })\n        if (eventCategories.includes(parseInt(search))) {\n          return event\n        }\n      }\n      )\n      setCategoryFilter(search)\n      setFilteredEvents(filtered)\n    }\n  }\n  const filterPrice = (event) => {\n    if (priceFilter) {\n      return null\n    } else { \n      const search = event.target.value\n      const startingEvents = filteredEvents ? filteredEvents : events\n      const filtered = startingEvents.filter((event) => {\n        if (event.price < search) return event\n      })\n      setPriceFilter(search)\n      setFilteredEvents(filtered)\n    }\n  }\n  const handleReset = () => {\n    setFilteredEvents('')\n    setSearchInput('')\n    setPriceFilter('')\n    setCategoryFilter('')\n    setLocationFilter('')\n  }\n  const handleSearch = (event) => {\n    const search = event.target.value\n    const regexp = new RegExp(search, 'i')\n    const startingEvents = filteredEvents ? filteredEvents : events\n    const filtered = startingEvents.filter((event) => {\n      if (regexp.test(event.name)) return event\n    })\n    setFilteredEvents(filtered)\n    setSearchInput(search)\n  }\n\nconst handleShowFilters = () => {\n  setShowFilter('')\n}\nconst handleHideFilters = () => {\n  setShowFilter('hidden')\n}\n\n  if (error) {\n    return <Redirect to=\"/notfound\" />\n  }\n  if (!events) return null\n  return (\n    <div className=\"body-index\">\n      <button onClick={handleShowFilters} className=\"show-filters-button\">Show Filters</button>\n      <div style={{visibility: `${showFilter}`}} className=\"filter-container\">\n        {/* <h1>{searchVal}</h1> */}\n        <div className=\"filters\">\n          <button\n            className=\"reset-button\"\n            onClick={handleReset}>\n            Reset filters\n          </button>\n          <button\n          \n          onClick={handleHideFilters} className=\"hide-filters-button\">Hide Filters</button>\n          <div className=\"filter-item\">\n            <div className=\"filter-title\">\n              Search:\n            </div>\n            <div className=\"text-input\">\n              <input\n                value={searchInput}\n                className=\"input\"\n                type=\"text\"\n                onChange={handleSearch}\n                placeholder=\"Search...\" />\n            </div>\n          </div>\n          <div className=\"filter-item\">\n            <div className=\"filter-title\">\n              Location:\n            </div>\n            <div className=\"filter-options\">\n              {locationOptions.map(location =>\n                <button\n                  onClick={filterLocations}\n                  className={location.label === locationFilter ? 'filter-option-selected' : 'filter-option'}\n                  value={location.label}\n                  key={location.label}>\n                  {location.label}\n                </button>)}\n            </div>\n          </div>\n          <div className=\"filter-item\">\n            <div className=\"filter-title\">\n              Category:\n            </div>\n            <div className=\"filter-options\">\n              {categoryOptions.map(category =>\n                <button\n                  onClick={filterCategories}\n                  className={category.id === parseInt(categoryFilter) ? 'filter-option-selected' : 'filter-option'}\n                  value={category.id}\n                  key={category.id}>\n                  {category.label}\n                </button>)}\n            </div>\n          </div>\n          <div className=\"filter-item\">\n            <div className=\"filter-title\">\n              Price:\n            </div>\n            <div className=\"filter-options\">\n              {priceOptions.map(price =>\n                <button\n                  onClick={filterPrice}\n                  className={parseInt(price) === priceFilter ? 'filter-option-selected' : 'filter-option'} value={price.value}\n                  key={price.label}>\n                  {price.label}\n                </button>)}\n            </div>\n          </div>\n          {/* <div className=\"filter-item\">Host</div> */}\n        </div>\n      </div>\n      {loading ?\n        <Spinner />\n        :\n        <div className=\"container-index\">\n          <div\n            style={emptyFilter() ?\n              { display: 'flex' } :\n              { display: 'none' }}>\n            <div className=\"reset-box\">\n              <div className=\"text\">\n                Ooops, looks like you ran out of talks...\n              </div>\n              <button\n                onClick={handleReset}\n                className=\"reset-button\">\n                Reset\n              </button>\n            </div>\n          </div>\n          {filteredEvents ?\n            filteredEvents.map(event => (\n              <EventCard key={event.id} {...event} />\n            )) :\n            events.map(event => (\n              <EventCard key={event.id} {...event} />\n            ))\n          }\n        </div>\n      }\n    </div>\n  )\n}\nexport default EventIndex","import React from 'react'\nimport { locationOptions } from '../../lib/IndexSearchOptions'\n\nfunction EventForm({ data, handleChange, handleSubmit, errors, submitText }) {\n  console.log(locationOptions)\n  return (\n    <div className=\"form\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"event-form-item\">\n          <input\n            name=\"name\"\n            label=\"Name\"\n            placeholder=\"Event Name\"\n            onChange={handleChange}\n            value={data.name}\n            error={errors.name}\n          />\n        </div>\n        {errors && <small>{errors.name}</small>}\n\n        <div className=\"event-form-item\">\n          <select\n            name=\"location\"\n            label=\"location\"\n            placeholder=\"Location\"\n            onChange={handleChange}\n            value={data.location}\n            error={errors.location}\n            defaultValue=\"DEFAULT\"\n          >\n            <option value=\"DEFAULT\" disabled>Location</option>\n            {locationOptions.map(location => {\n              return <option key={location.label} value={location.label}>{location.label}</option>\n            })}\n          </select>\n        </div>\n        {errors && <small>{errors.location}</small>}\n        {/* \n        <div className=\"event-form-item\">\n          <input\n            name=\"location\"\n            label=\"Location\"\n            placeholder=\"Location\"\n            onChange={handleChange}\n            value={data.location}\n            error={errors.location}\n          />\n        </div> */}\n\n        <div className=\"event-form-item\">\n          <input\n\n            name=\"price\"\n            label=\"Price\"\n            placeholder=\"Price\"\n            onChange={handleChange}\n            value={data.price}\n            error={errors.price}\n          />\n        </div>\n        {errors && <small>{errors.price}</small>}\n        <div className=\"event-form-item\">\n          <input\n            type=\"datetime-local\"\n            name=\"date_time\"\n            label=\"date_time\"\n            placeholder=\"Date time\"\n            onChange={handleChange}\n            value={data.date_time}\n            error={errors.date_time}\n          />\n        </div>\n        {errors && <small>{errors.date_time}</small>}\n        <div className=\"event-form-item\">\n          <textarea\n            name=\"about\"\n            label=\"About\"\n            placeholder=\"About\"\n            onChange={handleChange}\n            value={data.about}\n            error={errors.about}\n          />\n        </div>\n        {errors && <small>{errors.about}</small>}\n        {/* <div className=\"event-form-item\">\n          <input\n            name=\"talk_images\"\n            label=\"talk_images\"\n            placeholder=\"Image\"\n            onChange={handleChange}\n            value={data.talk_images}\n            error={errors.talk_images}\n          />\n        </div> */}\n\n\n\n\n\n\n        <button className=\"make-event-button\" buttontext={submitText}>{submitText}</button>\n      </form>\n    </div>\n  )\n}\n\nexport default EventForm","import React from 'react'\nimport { createImage } from '../../lib/api'\nimport useForm from '../../utils/useForm'\n\nimport { useParams } from 'react-router-dom'\n\nfunction ImageForm() {\n  const { id: eventId } = useParams()\n\n  const onSubmitSuccess = () => {\n\n  }\n\n  const { data, handleChange, setData, formErrors, setFormErrors, handleSubmit } = useForm({\n    image: '',\n    talk: eventId\n  }, createImage, null, onSubmitSuccess)\n\n\n\n  return (\n    <div className=\"event-form\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-item\">\n          <input\n            name=\"image\"\n            label=\"Image\"\n            placeholder=\"Event Images\"\n            onChange={handleChange}\n            value={data}\n            error={formErrors}\n          />\n        </div>\n\n        <button>Submit your Image</button>\n        {formErrors && <small>{formErrors.image}</small>}\n      </form>\n    </div>\n  )\n}\n\nexport default ImageForm","import React from 'react'\nimport { createPoll } from '../../lib/api'\nimport useForm from '../../utils/useForm'\n\nimport { useParams } from 'react-router-dom'\n\nfunction PollForm() {\n  const { id: eventId } = useParams()\n\n  const onSubmitSuccess = () => {\n\n  }\n  const { data, handleChange, formErrors, handleSubmit } = useForm({\n    question: '',\n    option_a: '',\n    option_b: '',\n    option_c: '',\n    option_d: '',\n    talk: eventId\n  }, createPoll, null, onSubmitSuccess)\n\n\n\n\n  return (\n    <div className=\"event-form\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-item\">\n          <input\n            name=\"question\"\n            label=\"Question\"\n            placeholder=\"Your question\"\n            onChange={handleChange}\n            value={data}\n            error={formErrors}\n          />\n        </div>\n        {formErrors && <small>{formErrors.question}</small>}\n        <div className=\"form-item\">\n          <input\n            name=\"option_a\"\n            label=\"Option A\"\n            placeholder=\"Option A\"\n            onChange={handleChange}\n            value={data}\n            error={formErrors}\n          />\n        </div>\n        {formErrors && <small>{formErrors.option_a}</small>}\n        <div className=\"form-item\">\n          <input\n            name=\"option_b\"\n            label=\"Option B\"\n            placeholder=\"Option B\"\n            onChange={handleChange}\n            value={data}\n            error={formErrors}\n          />\n        </div>\n        {formErrors && <small>{formErrors.option_b}</small>}\n        <div className=\"form-item\">\n          <input\n            name=\"option_c\"\n            label=\"Option C\"\n            placeholder=\"Option C\"\n            onChange={handleChange}\n            value={data}\n            error={formErrors}\n          />\n        </div>\n        {formErrors && <small>{formErrors.option_c}</small>}\n        <div className=\"form-item\">\n          <input\n            name=\"option_d\"\n            label=\"Option D\"\n            placeholder=\"Option D\"\n            onChange={handleChange}\n            value={data}\n            error={formErrors}\n          />\n        </div>\n\n        <button>Submit your Poll</button>\n        {formErrors && <small>{formErrors.option_d}</small>}\n      </form>\n    </div>\n  )\n}\n\nexport default PollForm","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { createEvent, getAllCategories } from '../../lib/api'\n// import { popupNotification } from '../../lib/notification'\n// import { categoryOptions } from '../../lib/IndexSearchOptions'\n\nimport useForm from '../../utils/useForm'\nimport useFetch from '../../utils/useFetch'\n\nimport EventForm from './EventForm'\nimport ImageForm from '../forms/ImageForm'\nimport PollForm from '../forms/PollForm'\n\nfunction EventNew() {\n  const history = useHistory()\n  const { data: categories } = useFetch(getAllCategories)\n\n\n\n  console.log(categories)\n  const onSubmitSuccess = res => {\n    // popupNotification('Event Added!')\n    history.push(`/events/${res.data.id}`)\n  }\n\n  // const tempCategories = ''\n\n  const { formData, handleChange, formErrors, handleSubmit } = useForm({\n    name: '',\n    categories: [],\n    date_time: '',\n    price: '',\n    about: ''\n\n  }, createEvent, null, onSubmitSuccess)\n\n  console.log('errors', formErrors)\n\n\n  const categoryPush = (event) => {\n    const category = parseInt(event.target.id)\n    formData.categories.push(category)\n    console.log(formData.categories)\n  }\n\n\n\n  if (!categories) return null\n  // can't post things into images and poll on this view, requires the talk id first which hasn't been made yet\n\n  return (\n    <div className=\"body\">\n      <div className=\"event-form\">\n      <h1>Create new event</h1>\n\n        {/* <ImageForm />\n        <PollForm /> */}\n        <EventForm\n          data={formData}\n          errors={formErrors}\n          handleChange={handleChange}\n          categoryPush={categoryPush}\n          handleSubmit={handleSubmit}\n          submitText=\"Make my Event!\"\n        />\n\n        {categories.map(category => (\n          <button\n            key={category.id}\n            id={category.id}\n            onClick={categoryPush}\n            style={formData.categories.includes(category.id) ? console.log('hello') : console.log('bugger')}\n          >\n            {category.name}\n          </button>\n        ))}\n      </div>\n    </div>\n\n  )\n}\n\nexport default EventNew\n","import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { editEvent, getSingleEvent , getAllCategories } from '../../lib/api'\nimport useForm from '../../utils/useForm'\nimport useFetch from '../../utils/useFetch'\n\nimport EventForm from './EventForm'\nimport ImageForm from '../forms/ImageForm'\nimport PollForm from '../forms/PollForm'\n\n\n\nfunction EventEdit() {\n  const { id: eventId } = useParams()\n  const history = useHistory()\n  const { data: event, error } = useFetch(getSingleEvent, eventId)\n  const { data: categories } = useFetch(getAllCategories)\n\n  const onSubmitSuccess = () => {\n    history.push(`/events/${eventId}`)\n  }\n\n  const { formData, handleChange, setFormData, formErrors, handleSubmit } = useForm({\n    name: '',\n    categories: []\n  }, editEvent, eventId, onSubmitSuccess)\n\n  React.useEffect(() => {\n    if (event) {\n      setFormData(event)\n    }\n  }, [event, setFormData])\n\n  const categoryPush = (event) => {\n    const category = parseInt(event.target.id)\n    formData.categories.push(category)\n    console.log(formData.categories)\n  }\n\n  if (error) {\n    return <Redirect to=\"notfound\" />\n  }\n  if (!event) return null\n  if (!categories) return null\n\n\n  return (\n    <div className=\"body\">\n      <h1>Edit your event</h1>\n      <div className=\"form\">\n        <ImageForm />\n        <PollForm />\n        <EventForm\n          data={formData}\n          errors={formErrors}\n          handleChange={handleChange}\n          handleSubmit={handleSubmit}\n          submitText=\"Edit my Event!\"\n        />\n        {categories.map(category => (\n          <button\n            key={category.id}\n            id={category.id}\n            onClick={categoryPush}\n            style={ formData.categories.includes(category.id) ? console.log('hello') : console.log('bugger')}\n          >\n            {category.name}\n          </button>))}\n      </div>\n    </div>\n  )\n}\n\nexport default EventEdit\n","import React from 'react'\nimport { Redirect, useParams } from 'react-router-dom'\nimport { getSingleEvent, createComment, updatePoll } from '../../lib/api'\nimport EventPoll from './EventPoll'\nimport EventComment from './EventComment'\nimport Spinner from '../common/Spinner'\n\nimport useFetchNew from '../../utils/useFetchNew'\nimport { isAuthenticated } from '../../lib/auth'\n\n\n\nfunction EventAttending() {\n  const { id: eventId } = useParams()\n  const result = useFetchNew(getSingleEvent, eventId)\n  const { data: event, loading, error } = result.state\n  const setState = result.setState\n\n  // const { data: events } = useFetch(getAllEvents)\n  const [pending, setPending] = React.useState('')\n  const handleChange = e => {\n    const text = e.target.value\n    setPending(text)\n  }\n\n  console.log(pending)\n\n\n  const handleClick = async () => {\n\n    try {\n      const res = await createComment({ text: pending, talk: eventId })\n      setState((oldState) => {\n        const newState = { ...oldState }\n        console.log(newState.data.comments.push(res.data))\n        return newState\n      })\n      setPending('')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n\n  if (error) {\n    return <Redirect to=\"/notfound\" />\n  }\n\n  if (!event) return null\n\n  console.log(isAuthenticated().sub)\n\n\n\n  if (!event) return null\n\n  const isAttending = () => {\n    const attendees = event.ticket.map(ticket => {\n      console.log(ticket.user)\n      return ticket.user\n    })\n    if (attendees.includes(isAuthenticated().sub)) {\n      return (true)\n    }\n\n    console.log(attendees)\n\n  }\n\n\n  const pollVote = async (id, value, number) => {\n    const newValue = number + 1\n    let res\n    if (value === 'a') {\n      res = await updatePoll({ option_a_count: newValue }, id)\n    } else if (value === 'b') {\n      res = await updatePoll({ option_b_count: newValue }, id)\n    } else if (value === 'c') {\n      res = await updatePoll({ option_c_count: newValue }, id)\n    } else {\n      res = await updatePoll({ option_d_count: newValue }, id)\n    }\n\n    setState((oldState) => {\n      const newState = { ...oldState }\n      newState.data.polls = oldState.data.polls.map((poll) => {\n        if (poll.id === res.data.id) {\n          return res.data\n        } else {\n          return poll\n        }\n      })\n      return newState\n    })\n  }\n\n  return (\n    <div className=\"body\">\n      <div className=\"container\">\n        {loading ?\n          <Spinner />\n          :\n          <>\n            <div className=\"title-container\">\n              <div className=\"title-image\">\n                {/* {event.image ? */}\n                < img src={event.image} alt={event.name} loading=\"lazy\" width=\"150\" height=\"150\" />\n                {/* // :\n                  // <img src='https://avatars.slack-edge.com/2020-05-09/1112549471909_7543dde099089941d3c3_512.png' alt={event.name} loading=\"lazy\" width=\"150\" height=\"150\" />} */}\n              </div>\n              <div className=\"title-wording\">\n                <div className=\"title\">{event.name}</div>\n                <div className=\"host\">Hosted by: {event.host.username}</div>\n                <div className=\"location\">Location: {event.location}</div>\n                <div className=\"date-time\">When: {event.date_time.replace('T', ' at ').replace(':00Z', '')}</div>\n                <div className=\"price\">Price: £{event.price}</div>\n              </div>\n            </div>\n            <div className=\"description\">\n              <div className=\"title-wording\">\n                <strong>About this event:</strong><br></br>\n                {event.about}\n              </div>\n            </div>\n            {isAttending() ?\n              <div className=\"poll-container\">\n                {event.polls ?\n                  event.polls.map(poll => (\n                    <EventPoll\n                      pollVote={pollVote}\n                      // style={poll.id === 2 ? { visibility: 'hidden' } : { visibility: 'display' }}\n                      id={poll.id}\n                      key={poll.id}\n\n                      {...poll} />\n                  ))\n                  : ''}\n\n                {event.comments ?\n                  event.comments.map(poll => (\n                    <EventComment\n                      style={poll.id === 2 ? { visibility: 'hidden' } : { visibility: 'display' }}\n                      key={poll.id}\n                      {...poll} />\n                  ))\n                  : ''}\n\n                {/* <input\n                  onChange={handleChange}\n                  value={pending}\n                  name=\"text\"\n                ></input>\n                <button onClick={handleSubmit}>Submit</button> */}\n              </div>\n              : ''}\n\n\n            <input\n              onChange={handleChange}\n              value={pending}\n              name=\"text\"\n            ></input>\n            <button onClick={handleClick}>Submit</button>\n\n          </>\n        }\n      </div>\n    </div>\n\n  )\n\n}\n// const totalVotes = a + b + c + d\n// const answerA = a\n// const answerB = b\n// const answerC = c\n// const answerD = d\n\n// console.log(a)\n// console.log(b)\n// console.log(c)\n// console.log(d)\n\n\n\n\n\n\n\n\n\n\n\nexport default EventAttending\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\n\n\n// import Eventsimage from '../../styles/assets/roadtrippers.png'\n\nfunction Error () {\n  const history = useHistory()\n\n  const goBack = () => {\n    history.push('/events')\n  }\n\n  return (\n    <div className=\"body\">\n      <div className=\"header-right\">\n        <button onClick={goBack} className=\"back-button\" type=\"button\">Back</button>\n      </div>\n      <div className=\"container\">\n        <p className=\"title\">Oops something went wrong, try again</p>\n      </div>\n    </div>\n  )\n}\nexport default Error","import React from 'react'\nimport Button from 'react-bootstrap/Button'\nimport '../../styles/main.scss'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { getOwnBasket, createTicket, updateBasket } from '../../lib/api'\nimport useFetchNew from '../../utils/useFetchNew'\n\nfunction Basket() {\n  const { id: basketId } = useParams()\n  const result = useFetchNew(getOwnBasket, basketId)\n  const { data: basket, loading, error } = result.state\n  console.log('init state is ', basket)\n  const setState = result.setState\n  const history = useHistory()\n\n  if (error) {\n    console.log(error)\n  }\n\n  const makeTicket = () => {\n    {\n      basket.talk.map(item => (\n        createTicket({ 'talk': item.id, 'image': `https://api.qrserver.com/v1/create-qr-code/?data=talk=${item.id}&size=300x300` }, basketId)\n      ))\n    }\n\n    updateBasket({ 'talk': [], 'total_price': 0.00 }, basketId)\n    history.push('/tickets/')\n\n  }\n\n  const handleClick = async (item) => {\n    const newArr =\n      basket.talk.filter(talk => (\n        talk !== item\n      )).map(obj => (obj.id))\n\n    const res = await updateBasket({ 'talk': newArr }, basketId)\n\n    setState((oldState) => {\n\n      const newState = { ...oldState }\n      newState.data.talk = oldState.data.talk.filter((talk) => res.data.talk.includes(talk.id))\n      return newState\n    })\n\n  }\n\n\n\n  if (loading) return <p>Loading</p>\n\n  return (\n    <div className=\"body\">\n      <div className=\"basket-item\">\n\n        <h1>Your Basket</h1><hr></hr>\n\n        {basket?.talk.map(item => (\n          <div key={item.id}>\n            <p className=\"talk-name\">{item.name}</p>\n            <p>{item.price}</p>\n            <Button\n              variant=\"danger\"\n              className=\"cancel\" onClick={() => (handleClick(item))}>x</Button><hr></hr>\n          </div>))\n        }\n\n        <p>Total Price: <span style={{ fontWeight: 'bold' }}>£{basket?.talk.reduce((accumulator, item) => (accumulator + parseFloat(item.price)), 0).toFixed(2)}</span></p>\n        <Button\n          variant=\"success\"\n          className=\"checkout\" onClick={makeTicket}>Check Out</Button>\n\n        {/* <p>Price: <span>£{basket?.talk.reduce((accumulator, item) => (accumulator + parseFloat(item.price)), 0)}</span></p>\n        <button onClick={makeTicket}>Check Out</button> */}\n      </div >\n\n    </div >\n\n  )\n}\n\n\n\nexport default Basket\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { getOwnProfile } from '../../lib/api'\nimport useFetch from '../../utils/useFetch'\n\n\nfunction TicketIndex() {\n  const { data: profile } = useFetch(getOwnProfile)\n  const history = useHistory()\n\n  const handleBackButton = () => {\n    history.push('/profile')\n  }\n\n  const handleTicketSelect = (e) => {\n    history.push(`/tickets/${e.target.value}`)\n  }\n\n  if (!profile) return null\n\n  return (\n    <div className=\"body\">\n      <div className=\"ticket-body\">\n        <h1>Your Tickets</h1>\n\n        {profile.ticket.map(tick => <button className=\"ticket\"\n          key={tick.id}\n          value={tick.id}\n          onClick={handleTicketSelect}\n        >{tick.talk.name} - ref: 00{tick.id} </button>)}\n      </div>\n      <button onClick={handleBackButton}>Back</button>\n\n\n    </div>\n  )\n}\n\nexport default TicketIndex","import React from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { getTicket } from '../../lib/api'\nimport useFetch from '../../utils/useFetch'\n\nfunction TicketShow() {\n  const { id: ticketId } = useParams()\n  const { data: ticket, loading, error } = useFetch(getTicket, ticketId)\n  const history = useHistory()\n\n  const handleBackButton = () => {\n    history.push('/tickets')\n  }\n\n  console.log(ticket)\n\n  if (error) {\n    console.log(error)\n  }\n\n  if (loading) return <p>Loading</p>\n  return (\n    <div className=\"body\">\n      <div className=\"ticket-show\">\n      <h1>Booking Confirmation</h1>\n      <div>\n        <h4>Thank you {ticket.user.first_name} {ticket.user.last_name} for booking your ticket with <em>Pollopalooza</em>. Please retain a copy of this eticket and present it to admission upon your arrival.</h4>\n        <p>Booking reference: <span>00{ticket.id}</span></p>\n        <p>Event attending: <span>{ticket.talk.name}</span></p>\n        <p>Location: <span>{ticket.talk.location}</span></p>\n        <p>Date and time: <span>{ticket.talk.date_time.replace('T', ' at ').replace(':00Z', '')}</span></p>\n        <img src={ticket.image} alt={ticket.id} />\n        \n      </div>\n      <button onClick={handleBackButton}>Back</button>\n      </div>\n      \n\n    </div >\n\n  )\n}\n\n\n\nexport default TicketShow","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n// import './styles/main.scss'\n\nimport SecureRoute from './components/common/SecureRoute'\nimport Register from './components/authentication/Register'\nimport Login from './components/authentication/Login'\nimport Navbar from './components/common/Navbar'\nimport Home from './components/common/Home'\nimport Footer from './components/common/Footer'\nimport Profile from './components/user/Profile'\nimport ProfileEdit from './components/user/ProfileEdit'\nimport EventShow from './components/events/EventShow'\nimport EventIndex from './components/events/EventIndex'\nimport EventNew from './components/events/EventNew'\nimport EventEdit from './components/events/EventEdit'\nimport EventAttending from './components/events/EventAttending'\nimport ErrorPage from './components/common/Error'\nimport Basket from './components/user/Baskets'\nimport TicketIndex from './components/user/TicketIndex'\nimport TicketShow from './components/user/TicketShow'\n\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Navbar />\n      <Switch>\n        <Route exact path='/' component={Home} />\n        <Route path=\"/events/attending/:id\" component={EventAttending} />\n        <Route path=\"/events/new\" component={EventNew} />\n        <Route path=\"/events/:id/edit\" component={EventEdit} />\n        <SecureRoute path=\"/events/:id\" component={EventShow} />\n        <Route path=\"/events\" component={EventIndex} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/profile/edit\" component={ProfileEdit} />\n        <Route path=\"/profile\" component={Profile} />\n        <Route path=\"/basket/:id\" component={Basket} />\n        <Route path=\"/tickets/:id\" component={TicketShow} />\n        <Route path=\"/tickets\" component={TicketIndex} />\n        <Route path=\"/*\" component={ErrorPage} />\n      </Switch>\n      <Footer />\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}